# Task: Implement ADR-022 Phase 5 - Integration Test & Dokumentation

Read first:
1. cat projects/implement-adr-022/phases/5/CLAUDE.md

## Pre-checks

```bash
# 1. API running?
curl -s http://localhost:8001/ || (PYTHONPATH=src python3 -m uvicorn helix.api.main:app --host 0.0.0.0 --port 8001 &)
sleep 2

# 2. OpenAI endpoint exists?
curl -s http://localhost:8001/v1/models
```

## Tasks:

### 1. Test all endpoints

```bash
# Health
curl http://localhost:8001/

# Models (for Open WebUI)
curl http://localhost:8001/v1/models

# Chat completions (for Open WebUI)
curl -X POST http://localhost:8001/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{"model": "helix-consultant", "messages": [{"role": "user", "content": "Welche ADRs haben wir?"}]}'

# Jobs
curl http://localhost:8001/helix/jobs
```

### 2. Create integration test file

Create `tests/integration/test_unified_api.py` with tests for:
- API health
- /v1/models endpoint
- /v1/chat/completions endpoint
- /helix/execute endpoint
- /helix/jobs endpoint

### 3. Update ADR-022 status

Change `status: Proposed` to `status: Implemented` in adr/022-unified-api-architecture.md

### 4. Create MIGRATION_COMPLETE.md

Document what was done in all 5 phases.

## Verification

```bash
# Run integration tests
PYTHONPATH=src python3 -m pytest tests/integration/test_unified_api.py -v

# Check ADR status
grep "status:" adr/022-unified-api-architecture.md
```

Start now.

phases:
- id: '1'
  name: Concept Development
  type: development
  description: 'Analyze requirements and create concept document.


    Tasks:

    1. Read spec.yaml and reference ADRs from helix-v3

    2. Create CONCEPT.md with API design and integration plan

    3. Include Dokumentation section (which docs to update)

    '
  output:
  - CONCEPT.md
  quality_gate:
    type: file_exists
    file: CONCEPT.md
- id: '2'
  name: ADR Parser
  type: development
  description: 'Implement the ADR parser module.

    - Parse YAML frontmatter

    - Extract metadata (adr_id, title, status, files, etc.)

    - Parse Markdown sections

    - Include comprehensive docstrings

    '
  input:
  - CONCEPT.md
  output:
  - new/src/helix/adr/__init__.py
  - new/src/helix/adr/parser.py
  - new/tests/adr/test_parser.py
  quality_gate:
    type: tests_pass
    test: pytest tests/adr/test_parser.py
- id: '3'
  name: ADR Validator
  type: development
  description: 'Implement ADR validation against template requirements.

    - Required sections check

    - YAML header validation

    - Acceptance criteria extraction

    '
  input:
  - new/src/helix/adr/parser.py
  output:
  - new/src/helix/adr/validator.py
  - new/tests/adr/test_validator.py
  quality_gate:
    type: tests_pass
    test: pytest tests/adr/test_validator.py
- id: '4'
  name: Quality Gate Integration
  type: development
  description: 'Integrate ADR validation with QualityGateRunner.


    WICHTIG: Erstelle helix.adr.gate (NICHT quality_gates/adr_gate.py!)


    Warum? src/helix/quality_gates.py existiert als MODUL.

    Python kann nicht gleichzeitig quality_gates.py UND quality_gates/ haben.


    Tasks:

    - Create src/helix/adr/gate.py with ADRQualityGate class

    - Import and use ADRValidator from helix.adr.validator

    - Register gate with QualityGateRunner via register_adr_gate()

    - Create comprehensive tests

    '
  input:
  - new/src/helix/adr/validator.py
  output:
  - new/src/helix/adr/gate.py
  - new/tests/adr/test_gate.py
  quality_gate:
    type: tests_pass
    test: pytest tests/adr/test_gate.py
- id: '5'
  name: Documentation Update
  type: documentation
  description: 'Update all documentation per Self-Documentation principle.


    WICHTIG: Lies CONCEPT.md Section "Dokumentation" für die Liste!


    Zu erstellen/aktualisieren:

    - docs/ARCHITECTURE-MODULES.md (helix.adr Package)

    - docs/ADR-TEMPLATE.md (NEU - Template für ADRs)

    - skills/helix/adr/SKILL.md (NEU - Wie schreibt man ADRs)

    - CLAUDE.md (adr_valid Quality Gate)

    - ONBOARDING.md (ADR-Workflow Section)

    '
  input:
  - CONCEPT.md
  - new/src/helix/adr/
  output:
  - modified/docs/ARCHITECTURE-MODULES.md
  - new/docs/ADR-TEMPLATE.md
  - new/skills/helix/adr/SKILL.md
  - modified/CLAUDE.md
  - modified/ONBOARDING.md
  quality_gate:
    type: files_exist
    files:
    - modified/docs/ARCHITECTURE-MODULES.md
    - new/docs/ADR-TEMPLATE.md
    - new/skills/helix/adr/SKILL.md
